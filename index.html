<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Undo</title>
  </head>
  <body>
    <h1>Undo â€“ Message Risk Scanner</h1>

    <textarea id="msg" rows="6" cols="60" placeholder="Type a message..."></textarea>
    <br /><br />

    <button onclick="scan()">Scan Risk</button>

    <pre id="output"></pre>

    <script>
      async function scan() {
        const message = document.getElementById("msg").value;

        const res = await fetch("/scan", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message }),
        });

        const data = await res.json();
        document.getElementById("output").textContent =
          "Risk Score: " + data.riskScore + "\n" + data.warning;
      }
    </script>
  </body>
</html>

